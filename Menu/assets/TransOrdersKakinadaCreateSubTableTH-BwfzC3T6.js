import"./style-CWPg30Uh.js";import"./EntryFile-BS4wfFeh.js";import"./EntryFile-B8x209MB.js";import"./EntryFile-B5fBQVjD.js";import{S as StartFunc$y}from"./EntryFile-0QZuJqKI.js";const GetUrl="bin",ConfigJson={GetUrl},StartFunc$x=async()=>{let t=getUrlQueryParams$2({inGetKey:"inRowPk"});return t===null?(alert("need inRowPk in URL "),await!1):await await(await fetch(`/${ConfigJson.GetUrl}/${jVarGlobalTableName}/${t}`)).json()};let getUrlQueryParams$2=({inGetKey:t})=>{const r=window.location.search;return new URLSearchParams(r).get(t)};const StartFunc$w=async()=>await StartFunc$x(),StartFunc$v=async()=>{let t=await StartFunc$w();return t===!1?await!1:(jFLocalShowInInputs({inDataAsObject:t}),jFBsRefereshId(),t)},jFLocalShowInInputs=({inDataAsObject:t})=>{document.getElementById("FormId").querySelectorAll("input").forEach(e=>{e.name in t&&(e.value=t[e.name])})},jFBsRefereshId=()=>{document.getElementById("BsSubTableRefreshId").click()},tableAttributes={"data-toolbar":"#ToolBarFixed","data-search":"true","data-searchable":"true","data-show-footer":"true","data-id-field":"pk"},AttributesJson={tableAttributes},StartFunc$u=()=>{var t=$("#table");t.attr(AttributesJson.tableAttributes)},method$2="POST",headers$2={Accept:"application/json","Content-Type":"application/json"},body$2="",KeysJson$2={method:method$2,headers:headers$2,body:body$2},StartFunc$t=()=>{let t=jVarGlobalSubTableTagId,e=document.getElementById(t).querySelector("thead").querySelectorAll("input"),l={};for(const o of e)l[o.name]=o.value;return l};let StartFunc$s=()=>{let t=StartFunc$t();return t.RefPK=getUrlQueryParams$1({inGetKey:"inRowPk"}),KeysJson$2.body=JSON.stringify(t),KeysJson$2},getUrlQueryParams$1=({inGetKey:t})=>{const r=window.location.search;return new URLSearchParams(r).get(t)},StartFunc$r=async()=>{let t=jVarGlobalSubTableName,r=StartFunc$s(),a=`/bin/${t}`;return await await fetch(a,r)},StartFunc$q=()=>{window.location.href=""},StartFunc$p=async()=>{(await StartFunc$r()).status===200&&StartFunc$q()};const StartFunc$o=()=>{StartFunc$p()};let StartFunc$n=()=>{let t=document.getElementById("SubTableFooterSaveButtonId");t!==null&&t.addEventListener("click",StartFunc$o)},KSEval={};const StartFunc$m=evt=>{let value=evt.key,jVarLocalCurrentTarget=evt.currentTarget,jVarLocalDataSet=jVarLocalCurrentTarget.dataset,jVarLocalEvalString=jVarLocalDataSet.ksclienteval;value==="Enter"&&(jFLocalInputValuesToOject(),jVarLocalCurrentTarget.value=eval(jVarLocalEvalString))},jFLocalInputValuesToOject=()=>{let t=jVarGlobalSubTableTagId;document.getElementById(t).querySelectorAll("thead input").forEach(e=>{if(e.type==="number"){KSEval[e.name]=parseInt(e.value);return}KSEval[e.name]=e.value})},StartFunc$l=()=>{StartFunc$n(),jFLocalKeyPress(),jFLocalSetFocusToFirstInput()},jFLocalSetFocusToFirstInput=()=>{let t=jVarGlobalSubTableTagId;document.getElementById(t).querySelector("thead input").focus()},jFLocalKeyPress=()=>{let t=jVarGlobalSubTableTagId,a=document.getElementById(t).querySelectorAll("thead input[data-ksclienteval]");a.length>0&&a.forEach(e=>{e.addEventListener("keypress",StartFunc$m)})},method$1="DELETE",headers$1={Accept:"application/json","Content-Type":"application/json"},body$1="",KeysJson$1={method:method$1,headers:headers$1,body:body$1};let StartFunc$k=()=>KeysJson$1;const PostUrl$1="bin",UrlJson$3={PostUrl:PostUrl$1};let StartFunc$j=async({InMainRowPk:t,inRowPk:r})=>{let a=UrlJson$3.PostUrl,e=jVarGlobalSubTableName,l=StartFunc$k(),o=`/${a}/${e}/${r}`;return await await fetch(o,l)},StartFunc$i=()=>{window.location.href=""},StartFunc$h=async({InMainRowPk:t,inRowPk:r})=>{(await StartFunc$j({InMainRowPk:t,inRowPk:r})).status===200&&StartFunc$i()};const StartFunc$g=async(t,r,a)=>{a==="KS-Delete"&&(await Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"error",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"grey",returnInputValueOnDismiss:!0,confirmButtonText:"Yes, delete it!",reverseButtons:!0,focusCancel:!0,cancelButtonText:"Cancel"})).isConfirmed&&("id"in t&&await StartFunc$h({inRowPk:t.id}),"pk"in t&&(console.log("row--",t),await StartFunc$h({inRowPk:t.pk,InMainRowPk:t.RefPK})))},StartFunc$f=async()=>{let t=jVarGlobalSubTableTagId;var r=$(`#${t}`);r.bootstrapTable({data:[],onPostBody:StartFunc$l,onClickRow:StartFunc$g})},StartFunc$e=()=>{StartFunc$u(),StartFunc$f().then()},method="POST",headers={Accept:"application/json","Content-Type":"application/json"},body="",KeysJson={method,headers,body};let StartFunc$d=()=>{let t=document.getElementById("FormId");return KeysJson.body=JSON.stringify(jFLocalserializeFormData(t)),KeysJson};function jFLocalserializeFormData(t){var r=new FormData(t),a={};for(var[e,l]of r)a[e]?(Array.isArray(a[e])||(a[e]=[a[e]]),a[e].push(l)):a[e]=l;return a}const PostUrl="bin",UrlJson$2={PostUrl};let StartFunc$c=async()=>{let t=UrlJson$2.PostUrl,r=jVarGlobalTableName,a=StartFunc$d(),e=`/${t}/${r}`;return await await(await fetch(e,a)).json()},StartFunc$b=()=>{let r=document.getElementById("FormId").querySelectorAll("[required]"),a=!0;return r.forEach(e=>{if(e.value.trim().length===0){e.classList.add("is-invalid"),a=!1;return}}),a};const RedirectToUrl="ShowSimple.html",UrlJson$1={RedirectToUrl};let StartFunc$a=()=>{window.location.href=`${jVarGlobalTableName}${UrlJson$1.RedirectToUrl}`},StartFunc$9=async()=>{if(StartFunc$b()){let r=await StartFunc$c();r!==null&&r&&StartFunc$a()}},StartFunc$8=()=>{let t=document.getElementById("SaveButtonId");t!==null&&t.addEventListener("click",StartFunc$9)};const routePath="binSecured",UrlJson={routePath};let StartFunc$7=async()=>{let t=UrlJson.routePath,r=jVarGlobalSubTableName,a=getUrlQueryParams({inGetKey:"inRowPk"}),e=`/${t}/${r}/FilterData/RefPK/${a}`;return await await fetch(e)},getUrlQueryParams=({inGetKey:t})=>{const r=window.location.search;return new URLSearchParams(r).get(t)},StartFunc$6=()=>{let r=document.getElementById("FormId").querySelectorAll("[required]"),a=!0;return r.forEach(e=>{if(e.value.trim().length===0){e.classList.add("is-invalid"),a=!1;return}}),a},StartFunc$5=({InData:t})=>{let r=jVarGlobalSubTableTagId;console.log("InData:",t);let a=t.reverse();var e=$(`#${r}`);e.bootstrapTable("load",a)},StartFunc$4=async()=>{if(StartFunc$6()){let r=await StartFunc$7();if(r.status===200){let a=await r.json();a&&StartFunc$5({InData:a})}}},StartFunc$3=()=>{let t=document.getElementById("BsSubTableRefreshId");t!==null&&t.addEventListener("click",StartFunc$4)},StartFunc$2=()=>{StartFunc$8(),StartFunc$3()};const StartFunc$1=()=>{StartFunc$v().then(),StartFunc$e(),StartFunc$2(),jFLocalFetchMasters(),jFLocalFillDataLists()},jFLocalFillDataLists=()=>{document.getElementById("HeaderToDataListId").click()},jFLocalFetchMasters=()=>{document.getElementById("HeaderFetchToDLId").click()},StartFunc=()=>{StartFunc$y({inSuccessFunc:StartFunc$1})&&StartFunc$1()};StartFunc();
